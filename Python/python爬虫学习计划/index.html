<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="博主乃金融行业一民工，python爱好者，本博记录各类学习文档、杂记等等。"><title>python爬虫学习计划 | Lizenghai's Blog</title><link rel="stylesheet" type="text/css" href="/css/normalize.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/pure-min.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">python爬虫学习计划</h1><a id="logo" href="/.">Lizenghai's Blog</a><p class="description">日积跬步，终至千里。</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/guestbook/"><i class="fa fa-comments"> 留言</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a><a href="/sitemap.xml"><i class="fa fa-sitemap"> 网站地图</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">python爬虫学习计划</h1><div class="post-meta">Mar 6, 2016<span> | </span><span class="category"><a href="/categories/Python/">Python</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#学习计划"><span class="toc-number">1.</span> <span class="toc-text">学习计划</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#学习原因"><span class="toc-number">1.1.</span> <span class="toc-text">学习原因</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#目标"><span class="toc-number">1.2.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#平台"><span class="toc-number">1.3.</span> <span class="toc-text">平台</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#学前思考"><span class="toc-number">1.4.</span> <span class="toc-text">学前思考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Let’s-GO！"><span class="toc-number">1.5.</span> <span class="toc-text">Let’s GO！</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#初识urllib2"><span class="toc-number">1.5.1.</span> <span class="toc-text">初识urllib2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#网页解析器"><span class="toc-number">1.5.2.</span> <span class="toc-text">网页解析器</span></a></li></ol></li></ol></li></ol></div></div><div class="post-content"><h2 id="&#x5B66;&#x4E60;&#x8BA1;&#x5212;"><a href="#&#x5B66;&#x4E60;&#x8BA1;&#x5212;" class="headerlink" title="&#x5B66;&#x4E60;&#x8BA1;&#x5212;"></a>&#x5B66;&#x4E60;&#x8BA1;&#x5212;</h2><h3 id="&#x5B66;&#x4E60;&#x539F;&#x56E0;"><a href="#&#x5B66;&#x4E60;&#x539F;&#x56E0;" class="headerlink" title="&#x5B66;&#x4E60;&#x539F;&#x56E0;"></a>&#x5B66;&#x4E60;&#x539F;&#x56E0;</h3><p>python&#x5728;web&#x65B9;&#x9762;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x90FD;&#x662F;&#x4E3A;&#x4E86;&#x7528;&#x800C;&#x5B66;&#xFF0C;&#x6CA1;&#x6709;&#x7CFB;&#x7EDF;&#x7684;&#x5B66;&#x4E60;&#x8FC7;&#x3002;&#x5B66;&#x5230;&#x7684;&#x4E1C;&#x897F;&#x975E;&#x5E38;&#x96F6;&#x788E;&#x4E0D;&#x7CFB;&#x7EDF;&#xFF0C;&#x6216;&#x8005;&#x5C0F;&#x5C0F;&#x7684;&#x9700;&#x6C42;&#x53D8;&#x5316;&#x90FD;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x65E0;&#x4ECE;&#x4E0B;&#x624B;&#x3002;</p>
<h3 id="&#x76EE;&#x6807;"><a href="#&#x76EE;&#x6807;" class="headerlink" title="&#x76EE;&#x6807;"></a>&#x76EE;&#x6807;</h3><ul>
<li>&#x80FD;&#x591F;&#x5B8C;&#x6210;&#x5728;&#x4EFB;&#x610F;&#x7F51;&#x7AD9;&#x91C7;&#x96C6;&#x4EFB;&#x610F;&#x6570;&#x636E;&#x3002;</li>
<li>&#x6A21;&#x62DF;&#x767B;&#x5F55;&#x3002;</li>
<li>&#x6A21;&#x62DF;&#x63D0;&#x4EA4;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x7F51;&#x7AD9;&#x81EA;&#x52A8;&#x53D1;&#x7AD9;&#x5185;&#x4FE1;(&#x77E5;&#x4E4E;&#x554A;&#xFF0C;&#x5FAE;&#x535A;&#x554A;)&#x3002;</li>
<li>&#x533B;&#x9662;&#x9884;&#x7EA6;&#x53F7;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x4EC0;&#x4E48;&#x7684;&#x3002;</li>
<li>&#x5176;&#x4ED6;&#x5F85;&#x6DFB;&#x52A0;&#x3002;</li>
</ul>
<h3 id="&#x5E73;&#x53F0;"><a href="#&#x5E73;&#x53F0;" class="headerlink" title="&#x5E73;&#x53F0;"></a>&#x5E73;&#x53F0;</h3><p>python&#x5728;&#x4E0A;&#x624B;&#x65F6;&#x5C31;&#x662F;python3&#xFF0C;&#x800C;&#x7F51;&#x4E0A;&#x5927;&#x591A;&#x6570;&#x6559;&#x7A0B;&#x90FD;&#x662F;py2.7&#x7684;&#xFF0C;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#xFF0C;&#x53EA;&#x8981;&#x6682;&#x65F6;&#x5207;&#x6362;&#x5230;python2&#xFF0C;&#x5C1D;&#x8BD5;&#x5B66;&#x4E60;&#x5B8C;&#x6BD5;&#x540E;&#x8F6C;&#x79FB;&#x5230;python3&#x4E0A;&#x3002;</p>
<h3 id="&#x5B66;&#x524D;&#x601D;&#x8003;"><a href="#&#x5B66;&#x524D;&#x601D;&#x8003;" class="headerlink" title="&#x5B66;&#x524D;&#x601D;&#x8003;"></a>&#x5B66;&#x524D;&#x601D;&#x8003;</h3><p>&#x5148;&#x4ECE;&#x6700;&#x7B80;&#x5355;&#x7684;&#x4E0D;&#x9700;&#x8981;&#x6A21;&#x62DF;&#x767B;&#x5F55;&#x3001;&#x8F93;&#x5165;&#x9A8C;&#x8BC1;&#x7801;&#x4E4B;&#x7C7B;&#x7684;&#x7F51;&#x7AD9;&#x5F00;&#x59CB;&#x3002;&#x7136;&#x540E;&#x7531;&#x6613;&#x5230;&#x96BE;&#xFF0C;&#x6A21;&#x62DF;&#x767B;&#x5F55;&#xFF0C;post&#x63D0;&#x4EA4;&#x554A;&#x3001;&#x6A21;&#x62DF;&#x6D4F;&#x89C8;&#x5668;&#x3001;&#x767B;&#x5F55;&#x65F6;&#x63D0;&#x4EA4;&#x6570;&#x636E;&#xFF0C;&#x4FDD;&#x5B58;cookies&#x3001;&#x5E26;cookies&#x6D4F;&#x89C8;&#x795E;&#x9A6C;&#x7684;&#x3002;</p>
<h3 id="Let&#x2019;s-GO&#xFF01;"><a href="#Let&#x2019;s-GO&#xFF01;" class="headerlink" title="Let&#x2019;s GO&#xFF01;"></a>Let&#x2019;s GO&#xFF01;</h3><p>&#x5C1D;&#x8BD5;&#x5148;&#x4ECE;&#x6155;&#x8BFE;&#x7F51;&#x7684;<a href="http://www.imooc.com/learn/563" target="_blank" rel="external">python&#x5F00;&#x53D1;&#x7B80;&#x5355;&#x722C;&#x866B;</a>&#x5F00;&#x59CB;&#x5427;&#x3002;&#x4EE5;&#x4E0B;&#x5C31;&#x662F;&#x7B14;&#x8BB0;&#x4E86;&#xFF1A;<br>python&#x7684;&#x7F51;&#x9875;&#x4E0B;&#x8F7D;&#x5668;&#x6709;&#x54EA;&#x4E9B;&#xFF1F;</p>
<ol>
<li><strong>urllib2</strong>:Python&#x5B98;&#x65B9;&#x7684;&#x57FA;&#x7840;&#x6A21;&#x5757;&#x3002;&#x80FD;&#x5B9E;&#x73B0;&#x8BBF;&#x95EE;url&#x3001;post&#x63D0;&#x4EA4;&#x3001;&#x4EE3;&#x7406;&#x8BBF;&#x95EE;&#x7B49;&#x7B49;&#x3002;</li>
<li>request&#xFF1A;python&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;&#xFF0C;&#x529F;&#x80FD;&#x66F4;&#x591A;&#x3002;</li>
</ol>
<p>&#x6559;&#x7A0B;&#x4E2D;&#x4E3B;&#x8981;&#x7528;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x3002;</p>
<h4 id="&#x521D;&#x8BC6;urllib2"><a href="#&#x521D;&#x8BC6;urllib2" class="headerlink" title="&#x521D;&#x8BC6;urllib2"></a>&#x521D;&#x8BC6;urllib2</h4><p>urllib2&#x4E0B;&#x8F7D;&#x7F51;&#x9875;&#x7684;&#x65B9;&#x6CD5;&#x6709;&#x51E0;&#x79CD;&#xFF0C;</p>
<p>&#x7B2C;&#x4E00;&#x79CD;&#x662F;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x9650;&#x5236;&#x7684;&#x6700;&#x7B80;&#x6D01;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x6CD5;&#xFF1A;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"></span><br><span class="line">url = <span class="string">&apos;http://www.baidu.com&apos;</span></span><br><span class="line"><span class="comment"># &#x4E0D;&#x9644;&#x52A0;&#x4EFB;&#x4F55;&#x53C2;&#x6570;&#xFF0C;&#x76F4;&#x63A5;&#x6253;&#x5F00;</span></span><br><span class="line">response = urllib2.urlopen(url)</span><br><span class="line"><span class="comment"># response.getcode&#x65B9;&#x6CD5;&#x662F;&#x8FD4;&#x56DE;&#x7F51;&#x9875;&#x7684;&#x72B6;&#x6001;&#x7801;&#xFF0C;&#x6210;&#x529F;&#x4E3A;200&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x4E00;&#x822C;&#x4E3A;404</span></span><br><span class="line"><span class="keyword">print</span> response.getcode()</span><br><span class="line"><span class="comment"># &#x8BFB;&#x53D6;&#x4E0B;&#x8F7D;&#x597D;&#x7684;&#x7F51;&#x9875;&#x5185;&#x5BB9;</span></span><br><span class="line">content = response.read()</span><br><span class="line">print(content)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>&#x5BF9;&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x589E;&#x5F3A;&#x5904;&#x7406;&#xFF1A;<br>&#x7528;urllib2&#x7684;Request&#x5BF9;&#x8C61;&#x5305;&#x88C5;&#x7528;&#x6237;&#x9700;&#x8981;&#x8F93;&#x5165;&#x7684;&#x5BF9;&#x8C61;data&#x3001;&#x5934;&#x4FE1;&#x606F;&#xFF08;header&#xFF09;.</p>
<p>&#x6DFB;&#x52A0;&#x5934;&#x4FE1;&#x606F;&#x7684;&#x4F5C;&#x7528;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x6BD4;&#x5982;&#x6A21;&#x62DF;&#x6210;&#x6D4F;&#x89C8;&#x5668;&#x4EE5;&#x9632;&#x6B62;&#x67D0;&#x4E9B;&#x7F51;&#x7AD9;&#x62D2;&#x7EDD;&#x975E;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x8BBF;&#x95EE;&#x3002;<br>&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#x4E86;&#xFF1A;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"></span><br><span class="line">request = urllib2.Request(url)</span><br><span class="line"><span class="comment"># &#x6DFB;&#x52A0;&#x7528;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x5173;&#x952E;&#x5B57;&#x4E3A;s&#xFF0C;&#x503C;&#x4E3A;&#x9C81;&#x80FD;</span></span><br><span class="line"><span class="comment">#request.add_data(&apos;s&apos;:&apos;&#x9C81;&#x80FD;&apos;) #&#x4F9D;&#x7167;&#x6559;&#x7A0B;&#x8F93;&#x5165;&#xFF0C;&#x7ED3;&#x679C;&#x8FD0;&#x884C;&#x4E0D;&#x8FC7;&#x53BB;&#xFF0C;&#x6682;&#x65F6;&#x6CE8;&#x91CA;&#x6389;&#x3002;</span></span><br><span class="line"><span class="comment"># &#x6DFB;&#x52A0;&#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x5C06;&#x722C;&#x866B;&#x6A21;&#x62DF;&#x4E3A;&#x6D4F;&#x89C8;&#x5668;</span></span><br><span class="line">request.add_header(<span class="string">&apos;user-agent&apos;</span>, <span class="string">&apos;Mozilla/5.0 (Windows NT 6.1; WOW64) Chrome/48.0.2564.116&apos;</span>)</span><br><span class="line"><span class="comment"># &#x8FD9;&#x91CC;&#x662F;&#x5C06;request&#x5B9E;&#x4F8B;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x76F4;&#x63A5;&#x4F20;&#x5165;</span></span><br><span class="line">response = urllib2.urlopen(request)</span><br><span class="line">print(response.read())</span><br></pre></td></tr></table></figure>
<p>&#x7B2C;&#x4E09;&#x79CD;&#x5219;&#x662F;&#x6DFB;&#x52A0;&#x7279;&#x6B8A;&#x7684;&#x60C5;&#x666F;&#x5904;&#x7406;&#x5668;</p>
<ul>
<li>HTTPCookiesProcessor&#xFF1A; &#x7528;&#x4E8E;&#x67D0;&#x4E9B;&#x9700;&#x8981;&#x7528;&#x6237;&#x767B;&#x5F55;&#x624D;&#x80FD;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9700;&#x8981;&#x6DFB;&#x52A0;cookies&#x5904;&#x7406;</li>
<li>ProxyHandler&#xFF1A; &#x7528;&#x4E8E;&#x9700;&#x8981;&#x4EE3;&#x7406;&#x624D;&#x80FD;&#x8BBF;&#x95EE;&#x7684;&#x7F51;&#x9875;</li>
<li>HTTPHandler&#xFF1A; &#x7528;&#x4E8E;&#x7F51;&#x9875;&#x534F;&#x8BAE;&#x662F;https&#x52A0;&#x5BC6;&#x7684;&#x7F51;&#x9875;&#x8BBF;&#x95EE;</li>
<li>HTTPRedirectHandler&#xFF1A; &#x7528;&#x4E8E;&#x6709;&#x76F8;&#x4E92;&#x8DF3;&#x8F6C;&#x5173;&#x7CFB;&#x7684;&#x7F51;&#x9875;</li>
</ul>
<p>&#x4EE5;&#x4E0A;&#x5DE5;&#x5177;&#x662F;&#x4F20;&#x9012;&#x7ED9;urllib2&#x7684;build_opener&#x65B9;&#x6CD5;&#x7684;&#xFF0C;&#x4E4B;&#x540E;&#x518D;&#x7528;urllib2.install_opener&#x65B9;&#x6CD5;&#x4E3A;urllib2&#x5B89;&#x88C5;&#x7ED9;&#x5176;&#x7684;&#x5DE5;&#x5177;&#x3002;</p>
<p>&#x6700;&#x7EC8;&#x5C31;&#x53EF;&#x4EE5;&#x7528;&#x6B63;&#x5E38;&#x7684;urlopen(url)&#x6216;&#x8005;urlopen(request)&#x6765;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#x4E86;&#x3002;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib2, cookielib</span><br><span class="line"></span><br><span class="line">cj = cookielib.CookieJar()</span><br><span class="line">opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cj))</span><br><span class="line">urllib2.install_opener(opener)</span><br><span class="line">response = urllib2.urlopen(url)</span><br><span class="line"><span class="comment"># response.getcode&#x65B9;&#x6CD5;&#x662F;&#x8FD4;&#x56DE;&#x7F51;&#x9875;&#x7684;&#x72B6;&#x6001;&#x7801;&#xFF0C;&#x6210;&#x529F;&#x4E3A;200&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x4E00;&#x822C;&#x4E3A;404</span></span><br><span class="line"><span class="keyword">print</span> response.getcode()</span><br><span class="line"><span class="comment"># &#x8BFB;&#x53D6;&#x4E0B;&#x8F7D;&#x597D;&#x7684;&#x7F51;&#x9875;&#x5185;&#x5BB9;</span></span><br><span class="line">content = response.read()</span><br><span class="line"><span class="comment"># &#x6253;&#x5370;cookies&#x6570;&#x636E;</span></span><br><span class="line"><span class="keyword">print</span> cj</span><br><span class="line"><span class="keyword">print</span> content</span><br></pre></td></tr></table></figure>
<h4 id="&#x7F51;&#x9875;&#x89E3;&#x6790;&#x5668;"><a href="#&#x7F51;&#x9875;&#x89E3;&#x6790;&#x5668;" class="headerlink" title="&#x7F51;&#x9875;&#x89E3;&#x6790;&#x5668;"></a>&#x7F51;&#x9875;&#x89E3;&#x6790;&#x5668;</h4><p>&#x4EC0;&#x4E48;&#x662F;&#x7F51;&#x9875;&#x89E3;&#x6790;&#x5668;&#xFF1F;&#x7F51;&#x9875;&#x4E0B;&#x8F7D;&#x5230;&#x672C;&#x5730;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x5176;&#x89E3;&#x6790;&#xFF0C;&#x624D;&#x80FD;&#x6709;&#x9488;&#x5BF9;&#x6027;&#x7684;&#x63D0;&#x53D6;&#x6709;&#x4EF7;&#x503C;&#x7684;&#x6570;&#x636E;&#x3002;&#x7F51;&#x9875;&#x89E3;&#x6790;&#x5668;&#x5C31;&#x662F;&#x7528;&#x4E8E;&#x63D0;&#x53D6;&#x6709;&#x4EF7;&#x503C;&#x6570;&#x636E;&#x7684;&#x5DE5;&#x5177;&#x3002;</p>
<p>python&#x7684;&#x5E38;&#x7528;&#x89E3;&#x6790;&#x5668;&#xFF1A;</p>
<ol>
<li>&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;:&#x5C06;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x5F53;&#x4F5C;&#x4E00;&#x5927;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x6A21;&#x7CCA;&#x5339;&#x914D;&#x3002;</li>
<li>html.parser&#xFF1A;python&#x6A21;&#x5757;&#x3002;</li>
<li><strong><em>BeautifulSoup</em></strong>&#xFF1A;&#x7B2C;&#x4E09;&#x65B9;&#x6A21;&#x5757;&#x3002;&#x65E2;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x89E3;&#x6790;&#x5668;2&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x89E3;&#x6790;&#x5668;4&#x4F5C;&#x4E3A;&#x5B83;&#x7684;&#x89E3;&#x6790;&#x5668;&#x3002;</li>
<li>lxml</li>
</ol>
<p><strong> &#x7ED3;&#x6784;&#x5316;&#x89E3;&#x6790; </strong><br>&#x9664;&#x4E86;&#x6B63;&#x5219;&#x4EE5;&#x5916;&#xFF0C;2&#x3001;3&#x3001;4&#x90FD;&#x662F;&#x7ED3;&#x6784;&#x5316;&#x89E3;&#x6790;&#xFF08;DOM&#xFF09;&#x3002;<br><img src="/Python/python&#x722C;&#x866B;&#x5B66;&#x4E60;&#x8BA1;&#x5212;/dom.png" alt="DOM&#x7ED3;&#x6784;&#x56FE;"></p>
<p>&#x8BE6;&#x89E3;<strong>BeautifulSoup</strong>&#xFF08;<a href="http://www.crummy.com/software/BeautifulSoup/bs4/doc.zh/" target="_blank" rel="external">&#x4E2D;&#x6587;&#x6587;&#x6863;</a>&#xFF0C;&#x7B80;&#x79F0;bs4&#xFF09;&#xFF1A;<br>&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x4F7F;&#x7528;bs4&#x6765;&#x8FDB;&#x884C;&#x7ED3;&#x6784;&#x5316;&#x89E3;&#x6790;&#x3002;<br>&#x7B80;&#x5355;&#x5B89;&#x88C5;&#xFF1A;</p>
<blockquote>
<p>pip install beautifulSoup4</p>
</blockquote>
<p>&#x6211;&#x4EEC;&#x5F97;&#x5230;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x540E;&#xFF0C;&#x5373;&#x53EF;&#x5F00;&#x59CB;&#x521B;&#x5EFA;bs4&#x5BF9;&#x8C61;&#x6765;&#x63D0;&#x53D6;&#x6709;&#x4EF7;&#x503C;&#x7684;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x4E86;&#x3002;&#x5176;&#x4E2D;&#xFF0C;bs4&#x652F;&#x6301;find&#x548C;find_all&#x4E24;&#x79CD;&#x641C;&#x7D22;&#x65B9;&#x6CD5;&#xFF0C;&#x5176;&#x53C2;&#x6570;&#x4E00;&#x81F4;&#x3002;&#x5747;&#x7528;&#x6765;&#x641C;&#x7D22;&#x8282;&#x70B9;&#x7684;&#x540D;&#x79F0;&#x3001;&#x5C5E;&#x6027;&#x548C;&#x6587;&#x5B57;&#x3002;</p>
<p><img src="/Python/python&#x722C;&#x866B;&#x5B66;&#x4E60;&#x8BA1;&#x5212;/beautifulSoup4.png" alt="beautifulSoup4&#x7528;&#x6CD5;&#x7ED3;&#x6784;&#x56FE;"></p>
<p><img src="/Python/python&#x722C;&#x866B;&#x5B66;&#x4E60;&#x8BA1;&#x5212;/beautifulSoup4_yufa.png" alt="beautifulSoup4&#x8282;&#x70B9;&#x793A;&#x4F8B;&#x8BF4;&#x660E;"></p>
<p>&#x5B9E;&#x4F8B;&#x5316;bs4&#x5E76;&#x4F20;&#x5165;&#x76F8;&#x5173;&#x53C2;&#x6570;&#x540E;&#xFF0C;&#x5373;&#x53EF;&#x5F00;&#x59CB;&#x68C0;&#x7D22;&#x76F8;&#x5173;&#x5185;&#x5BB9;&#x3002;</p>
<blockquote>
<p>&#x65B9;&#x6CD5;&#xFF1A;find_all(names, attrs, string)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&#x67E5;&#x627E;&#x6240;&#x6709;&#x6807;&#x7B7E;&#x4E3A;&apos;a&apos;&#x7684;&#x8282;&#x70B9;</span></span><br><span class="line">soup.find_all(<span class="string">&apos;a&apos;</span>)</span><br><span class="line"><span class="comment">#&#x67E5;&#x627E;&#x6240;&#x6709;&#x6807;&#x7B7E;&#x4E3A;a&#x3001;&#x94FE;&#x63A5;&#x7B26;&#x5408;/content/211.html&#x5F62;&#x5F0F;&#x7684;&#x8282;&#x70B9;</span></span><br><span class="line">soup.find_all(<span class="string">&apos;a&apos;</span>, href=<span class="string">&apos;/content/211.html&apos;</span>)</span><br><span class="line">soup.find_all(<span class="string">&apos;a&apos;</span>, href=*re.compile(<span class="string">r&apos;/content/\d+\.html&apos;</span>)*)<span class="comment"># &#x652F;&#x6301;&#x6B63;&#x5219;</span></span><br><span class="line"><span class="comment">#&#x67E5;&#x627E;&#x6240;&#x6709;&#x6807;&#x7B7E;&#x4E3A;div class&#x4E3A;eee&#xFF0C;&#x6587;&#x5B57;&#x4E3A;python&#x7684;&#x8282;&#x70B9;</span></span><br><span class="line">soup.find_all(<span class="string">&apos;div&apos;</span>, class_=<span class="string">&apos;eee&apos;</span>, string=<span class="string">&apos;python&apos;</span>)</span><br><span class="line">&#x6CE8;&#xFF1A;&#x56E0;&#x4E3A;<span class="class"><span class="keyword">class</span>&#x4E3A;<span class="title">python</span>&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x6545;<span class="title">bs4</span>&#x5C06;<span class="title">class</span>&#x8282;&#x70B9;&#x6539;&#x4E3A;<span class="title">class_</span></span></span><br></pre></td></tr></table></figure>
<p>&#x8BBF;&#x95EE;&#x8282;&#x70B9;&#x4FE1;&#x606F;&#xFF1A;<br><img src="/Python/python&#x722C;&#x866B;&#x5B66;&#x4E60;&#x8BA1;&#x5212;/bs4_fangwen.png" alt=""></p>
<p>&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#xFF1A;<br>&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x5B9E;&#x4F8B;&#x5316;&#x4E86;bs4,&#x5E76;&#x4E14;&#x4EE5;html.parser&#x4F5C;&#x4E3A;DOM&#x89E3;&#x6790;&#x5668;&#xFF0C;&#x6307;&#x5B9A;&#x7F16;&#x7801;&#x4E3A;utf-8&#x3002;<br>&#x5176;&#x4E2D;&#x5C55;&#x793A;&#x4E86;&#x6B63;&#x5219;&#x65B9;&#x5F0F;&#x5E94;&#x7528;&#x3002;<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># encoding:utf-8</span></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">html_doc = <span class="string">&quot;&quot;&quot;</span><br><span class="line">&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse&apos;s story&lt;/title&gt;&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse&apos;s story&lt;/b&gt;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p class=&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were</span><br><span class="line">&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span><br><span class="line">&lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and</span><br><span class="line">&lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;</span><br><span class="line">and they lived at the bottom of a well.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">soup = BeautifulSoup(html_doc, <span class="string">&apos;html.parser&apos;</span>, from_encoding=<span class="string">&apos;utf-8&apos;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x83B7;&#x53D6;&#x6240;&#x6709;&#x8FDE;&#x63A5;</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">u&apos;&#x6240;&#x6709;&#x8FDE;&#x63A5;&apos;</span></span><br><span class="line">links = soup.find_all(<span class="string">&apos;a&apos;</span>)</span><br><span class="line"><span class="keyword">print</span> type(links)</span><br><span class="line"><span class="keyword">for</span> link <span class="keyword">in</span> links:</span><br><span class="line">    <span class="keyword">print</span> link.name, link[<span class="string">&apos;href&apos;</span>], link[<span class="string">&apos;class&apos;</span>], link[<span class="string">&apos;id&apos;</span>] ,link.get_text()</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment"># &#x83B7;&#x53D6;elsie&#x7684;&#x8FDE;&#x63A5;</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">u&apos;elsie&#x76F8;&#x5173;&apos;</span></span><br><span class="line">link_note = soup.find(<span class="string">&apos;a&apos;</span>, href=<span class="string">&apos;http://example.com/elsie&apos;</span>)</span><br><span class="line"><span class="keyword">print</span> link_note.name, link[<span class="string">&apos;href&apos;</span>], link_note[<span class="string">&apos;class&apos;</span>], link_note[<span class="string">&apos;id&apos;</span>] ,link_note.get_text()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6B63;&#x5219;&#x83B7;&#x53D6;</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">u&apos;&#x65B9;&#x6CD5;&#xFF1A;&#x6B63;&#x5219;&#x83B7;&#x53D6;&apos;</span></span><br><span class="line">link_note = soup.find(<span class="string">&apos;a&apos;</span>, href=re.compile(<span class="string">&apos;lie&apos;</span>))</span><br><span class="line"><span class="keyword">print</span> link_note.name, link[<span class="string">&apos;href&apos;</span>], link_note[<span class="string">&apos;class&apos;</span>], link_note[<span class="string">&apos;id&apos;</span>] ,link_note.get_text()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x83B7;&#x53D6;p&#x6BB5;&#x843D;&#x6587;&#x5B57;</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">u&apos;p&#x6BB5;&#x843D;&#x6587;&#x5B57;&apos;</span></span><br><span class="line">p_note = soup.find(<span class="string">&apos;p&apos;</span>, class_=<span class="string">&quot;story&quot;</span>)</span><br><span class="line"><span class="keyword">print</span> p_note.name, p_note[<span class="string">&apos;class&apos;</span>], link_note.get_text()</span><br></pre></td></tr></table></figure></p>
<p>&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x6240;&#x6709;&#x8FDE;&#x63A5;</span><br><span class="line">&lt;class &apos;bs4.element.ResultSet&apos;&gt;</span><br><span class="line">a http://example.com/elsie [u&apos;sister&apos;] link1 Elsie</span><br><span class="line">a http://example.com/lacie [u&apos;sister&apos;] link2 Lacie</span><br><span class="line">a http://example.com/tillie [u&apos;sister&apos;] link3 Tillie</span><br><span class="line">elsie&#x76F8;&#x5173;</span><br><span class="line">a http://example.com/tillie [u&apos;sister&apos;] link1 Elsie</span><br><span class="line">&#x65B9;&#x6CD5;&#xFF1A;&#x6B63;&#x5219;&#x83B7;&#x53D6;</span><br><span class="line">a http://example.com/tillie [u&apos;sister&apos;] link3 Tillie</span><br><span class="line">p&#x6BB5;&#x843D;&#x6587;&#x5B57;</span><br><span class="line">p [u&apos;story&apos;] Tillie</span><br></pre></td></tr></table></figure></p>
<p>&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#x6559;&#x7A0B;&#x67B6;&#x6784;<br></p>
</div><a data-url="http://lizenghai.com/Python/python爬虫学习计划/" data-id="cim1pe1d90005zsx7gdzux5ps" class="article-share-link">分享到</a><div class="tags"><a href="/tags/python/">python</a><a href="/tags/爬虫/">爬虫</a><a href="/tags/学习计划/">学习计划</a><a href="/tags/beautifulsoup4/">beautifulsoup4</a></div><div class="post-nav"><a href="/Python/python爬虫实战——抓取百度百科1000个分级基金的页面信息/" class="pre">python爬虫实战：抓取百度百科1000个分级基金的页面信息</a><a href="/uncategorized/hello-world/" class="next">Hello World</a></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/github/" style="font-size: 15px;">github</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/学习计划/" style="font-size: 15px;">学习计划</a> <a href="/tags/beautifulsoup4/" style="font-size: 15px;">beautifulsoup4</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/模拟登录/" style="font-size: 15px;">模拟登录</a> <a href="/tags/知乎/" style="font-size: 15px;">知乎</a> <a href="/tags/爬虫/" style="font-size: 15px;">爬虫</a> <a href="/tags/多地备份/" style="font-size: 15px;">多地备份</a> <a href="/tags/香港主机/" style="font-size: 15px;">香港主机</a> <a href="/tags/cname解析/" style="font-size: 15px;">cname解析</a> <a href="/tags/申万指数/" style="font-size: 15px;">申万指数</a> <a href="/tags/申万一级行业指数/" style="font-size: 15px;">申万一级行业指数</a> <a href="/tags/python爬虫实战/" style="font-size: 15px;">python爬虫实战</a> <a href="/tags/Ubuntu/" style="font-size: 15px;">Ubuntu</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/Linux/虚拟机下Ubuntu安装使用/">虚拟机下Ubuntu安装使用</a></li><li class="post-list-item"><a class="post-list-link" href="/Python/python爬虫实战——POST提交登录知乎/">python爬虫实战：POST提交登录知乎</a></li><li class="post-list-item"><a class="post-list-link" href="/Python/python爬虫实战——每日采集申万指数之申万一级行业指数数据/">python爬虫实战：每日采集申万指数之申万一级行业指数数据</a></li><li class="post-list-item"><a class="post-list-link" href="/Hexo/弄了个香港主机同时折腾下hexo多地备份/">弄了个香港主机同时折腾下hexo多地部署（备份）</a></li><li class="post-list-item"><a class="post-list-link" href="/Python/python爬虫实战——抓取百度百科1000个分级基金的页面信息/">python爬虫实战：抓取百度百科1000个分级基金的页面信息</a></li><li class="post-list-item"><a class="post-list-link" href="/Python/python爬虫学习计划/">python爬虫学习计划</a></li><li class="post-list-item"><a class="post-list-link" href="/uncategorized/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/hexo/hexo功能测试/">hexo功能测试</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://lizenghai.com" title="Lizenghai's Blog" target="_blank">Lizenghai's Blog</a></div></div></div></div><div id="footer">© <a href="/." rel="nofollow">Lizenghai's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a> Theme by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/jquery.min.js?v=0.0.0"></script><script type="text/javascript" src="/js/totop.js?v=0.0.0"></script><script type="text/javascript" src="/js/fancybox.pack.js?v=0.0.0"></script><script type="text/javascript" src="/js/jquery.fancybox.js?v=0.0.0"></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?b1c825658b6d3b436193cbc8f9620feb";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/share.js?v=0.0.0"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>